Hemma:
  modes:
    light:
      primary-background-color: rgb(50, 50, 50)
      secondary-background-color: rgb(40, 40, 40)
      app-header-background-color: rgba(76, 80, 84, 0.3)
      ha-card-background: rgba(200,200,200,0.08)
      ha-card-background-active: rgba(255,255,255,0.3)
      thermostat-card-off: rgba(0,0,0,.08)
      thermostat-card-on: rgba(255,255,255,0.1)
      app-theme-color: rgb(0, 0, 0)
      ha-card-box-shadow: none
      button-card-box-shadow: var(--ha-shadow-light)
      hemma-nav-bg: rgba(255,255,255,0.11)
      hemma-nav-border: rgba(255,255,255,0.1)
      hemma-nav-shadow: >
        inset 3px 3px 5px -5px rgba(255,255,255,0.08),
        inset -3px -3px 5px -5px rgba(255,255,255,0.08),
        inset 0 0 3px -1px rgba(255,255,255,0.1),
        0 14px 22px rgba(0,0,0,0.08)
      hemma-nav-inactive-opacity: .7
      hemma-nav-icon: rgba(255,255,255,.7)
      hemma-nav-icon-active: rgba(255,255,255,1)
      hemma-nav-active-fill: rgba(255,255,255,0.2)
      hemma-nav-pill-shadow: inset 0 0 1px rgba(255,255,255,0.5)
      hemma-nav-blur: blur(10px)
      hemma-nav-fade: |
        linear-gradient(
          to top,
          rgba(0,0,0,0.60) 0%,
          rgba(0,0,0,0.35) 30%,
          rgba(0,0,0,0.0) 65%
        )
      hemma-slider-track: rgba(255,255,255,0.22)
      hemma-slider-progress: rgba(255,255,255,0.95)
      hemma-slider-thumb: "#ffffff"
      hemma-slider-shadow: 0 2px 10px rgba(0,0,0,.18)
      hero-img-filter: saturate(1.02) brightness(.985)
      hero-tint-top: rgba(56,56,56,0.65)
      hero-tint-mid: rgba(53,53,53,0.60)
      hero-tint-bottom: rgba(50,50,50,0.50)
      primary-text-color: "#ffffff"
      text-primary-color: rgba(255,255,255,.95)
      secondary-text-color: rgba(240,240,240,0.8)
      disabled-text-color: rgba(208,208,208,0.5)
      sidebar-icon-color: '#aaaaad'
      sidebar-text-color: '#c9c9c9'
      dark-vignette: 0

    dark:
      primary-background-color: rgb(40, 40, 40)
      secondary-background-color: rgb(20, 20, 20)
      app-header-background-color: rgba(76, 80, 84, 0.3)
      ha-card-background-active: rgba(180,180,180,0.2)
      ha-card-background: rgba(0,0,0,0.35)
      thermostat-card-off: rgba(150,150,150,0.12)
      thermostat-card-on: rgba(255,255,255,0.12)
      app-theme-color: rgb(0, 0, 0)
      ha-card-box-shadow: none
      button-card-box-shadow: var(--ha-shadow-dark)
      button-card-box-shadow-active: var(--ha-shadow-dark-active)
      hemma-nav-bg: rgba(0,0,0,.3)
      hemma-nav-border: rgba(240,240,240,0.11)
      hemma-nav-inactive-opacity: .6
      hemma-nav-icon: rgba(240,240,240,.8)
      hemma-nav-icon-active: rgba(255,255,255,1)
      hemma-nav-shadow: >
        inset 0 10px 14px -14px rgba(0,0,0,0.08),
        inset 0 -10px 14px -14px rgba(0,0,0,0.08)
      hemma-nav-active-fill: rgba(255,255,255,0.2)
      hemma-nav-pill-shadow: inset 0 0 1px rgba(255,255,255,0.14)
      hemma-nav-blur: blur(12px)
      hemma-nav-fade: |
        linear-gradient(
          to top,
          rgba(0,0,0,0.60) 0%,
          rgba(0,0,0,0.35) 30%,
          rgba(0,0,0,0.0) 65%
        )
      hemma-slider-track: rgba(200,200,200,0.22)
      hemma-slider-progress: rgba(200,200,200,0.95)
      hemma-slider-thumb: "#ffffff"
      hemma-slider-shadow: 0 2px 12px rgba(0,0,0,.34)
      hero-img-filter: saturate(1.02) brightness(0.98)
      hero-tint-top: rgba(50,50,50,0.65)
      hero-tint-mid: rgba(50,50,50,0.60)
      hero-tint-bottom: rgba(50,50,50,0.55)
      primary-text-color: "#ffffff"
      text-primary-color: rgba(255,255,255,.98)
      secondary-text-color: rgba(240,240,240,0.9)
      disabled-text-color: rgba(208,208,208,0.5)
      sidebar-icon-color: '#67676b'
      sidebar-text-color: '#a8a8a8'
      vignette-alpha: 0.78
      vignette-edge: 0.68
      vignette-bottom: 0.34
      dark-vignette: 1

  # Global

  # Rounded Cards
  ha-shadow-light: >
    inset 6px 6px 10px -10px rgba(255,255,255,0.20),
    inset -6px -6px 10px -10px rgba(255,255,255,0.16),
    inset 0 0 3px -1px rgba(255,255,255,0.38),
    0 14px 22px rgba(0,0,0,0.04)

  ha-shadow-dark: >
    inset 0 10px 14px -16px rgba(255,255,255,0.25),
    inset 0 -10px 18px -16px rgba(255,255,255,0.18),
    inset 1.5px 1.5px 1px -1.5px rgba(255,255,255,0.1),
    inset -1.5px -1.5px 1px -1.5px rgba(255,255,255,0.1),
    0 18px 20px rgba(0,0,0,0.04)

  ha-shadow-dark-active: >
    inset 0 10px 14px -16px rgba(255,255,255,0.22),
    inset 0 -10px 18px -16px rgba(150,150,150,0.14),
    inset 1.3px 1.3px 2px -1px rgba(255,255,255,0.1),
    inset -1px -2px 3px -1px rgba(255,255,255,0.08),
    0 18px 20px rgba(0,0,0,0.04)

  # Boxy Cards
  # ha-shadow-light: >
  #   inset 8px 8px 10px -12px rgba(255,255,255,0.18),
  #   inset -8px -8px 10px -12px rgba(255,255,255,0.14),
  #   inset -0.5px -0.5px 2px -1.5px rgba(255,255,255,0.5),
  #   inset 0 0 6px -3px rgba(255,255,255,0.03),
  #   0 16px 28px rgba(0,0,0,0.04)

  # ha-shadow-dark: >
  #   inset 4px 4px 20px -3px rgba(255,255,255,0.04),
  #   inset -4px -4px 20px -3px rgba(255,255,255,0.04),
  #   inset 0 0 6px -3px rgba(255,255,255,0.02),
  #   0 16px 28px rgba(0,0,0,0.06)

  # ha-shadow-dark-active: >
  #   inset 0 10px 14px -16px rgba(255,255,255,0.12),
  #   inset 0 -10px 18px -16px rgba(150,150,150,0.12),
  #   inset 0 0 0 .7px rgba(255,255,255,0.06),
  #   0 18px 20px rgba(0,0,0,0.06)

  # Fonts
  primary-font-family: "Hanken Grotesk"
  ha-font-family-body: var(--primary-font-family)
  ha-card-header-font-family: var(--primary-font-family)

  # Header
  app-header-backdrop-filter: blur(10px)
  app-header-edit-background-color: rgba(0,0,0,0.2)

  # Sidebar
  sidebar-background-color: var(--secondary-background-color)
  sidebar-selected-background-color: var(--primary-background-color)
  sidebar-selected-icon-color: var(--primary-text-color)
  sidebar-selected-text-color: var(--sidebar-selected-icon-color)

  # Dashboard / base
  primary-color: '#61b4ff'
  accent-color: '#61b4ff'
  divider-color: rgba(50, 50, 50, 0.8)
  state-icon-color: var(--primary-color)
  ha-color-on-primary-normal: var(--primary-color)

  # Entity Layout
  hemma-entity-height-desktop: 180px
  hemma-entity-height-mobile: 120px
  hemma-entity-padding-desktop: 40px
  hemma-entity-padding-mobile: 20px
  hemma-entity-name-font-desktop: 18px
  hemma-entity-state-font-desktop: 15px

  # - Use Preset A for 1-row carousel
  # - Use Preset B for 2-row grid
  # (only one preset block should be uncommented at a time)

  # Preset A (1-Row Carousel)
  hemma-entity-rows-desktop: repeat(1, auto)
  hemma-entity-col-width-desktop: 280px
  hemma-entity-justify-desktop: flex-start
  hemma-entity-right-inset-desktop: 0px
  hemma-entity-bottom-desktop: 40px
  hemma-entity-shadow-pad-right-desktop: 0px
  hemma-entity-overflow-y-desktop: hidden

  # Preset B (2-Row Grid)
  # hemma-entity-rows-desktop: repeat(2, auto)
  # hemma-entity-col-width-desktop: 250px
  # hemma-entity-justify-desktop: center
  # hemma-entity-right-inset-desktop: var(--page-gutter, 8vw)
  # hemma-entity-bottom-desktop: 30px
  # hemma-entity-shadow-pad-right-desktop: 16px
  # hemma-entity-overflow-y-desktop: visible

  # Entity Variables
  hemma-entity-active: rgba(255,255,255,1)
  hemma-entity-inactive: rgba(255,255,255,.75)
  hemma-entity-picture-inactive-opacity: .75
  hemma-entity-picture-active-opacity: 1
  hemma-entity-picture-inactive-filter: brightness(.75) saturate(.9)
  hemma-entity-picture-active-filter: none
  hemma-entity-text-shadow: 0 0 3px rgba(0, 0, 0, 0.15)

  # Temperature Formatting
  hero-temp-font-size-desktop: 18px
  hero-temp-font-size-mobile: 14px

  # Badge Formatting - Global
  badge-background: rgba(0,0,0,0.35)
  badge-title-inactive: rgba(235,235,235,.6)
  badge-inset-start: 4px
  badge-br: 9999px
  badge-rim-width: .55px
  badge-subline-lh: 1.18
  badge-subline-lh-mobile: 1.15
  badge-shadow: >
    inset 0 10px 14px -16px rgba(0,0,0,0.25),
    inset 0 -10px 18px -16px rgba(0,0,0,0.18),
    inset 0 0 0 .8px rgba(0,0,0,0.03),
    0 12px 24px rgba(0,0,0,0.04)

  # Badge Formatting - Mobile
  badge-col-gap-mobile: 4px
  badge-gap-mobile: 6px
  badge-font-size-mobile: 13px
  badge-padding-mobile: 0 13px 0 8px
  badge-min-height-mobile: 41px
  badge-icon-size-mobile: 26px
  
  # Badge Formatting - Desktop
  badge-col-gap: 6px
  badge-gap: 10px
  badge-padding: 4px 15px 4px 9px
  badge-min-height: 50px
  badge-icon-size: 35px
  badge-font-size: 15px

  # Cards
  card-background-color: var(--secondary-background-color)
  paper-listbox-background-color: var(--primary-background-color)
  ha-card-header-color: var(--primary-text-color)
  paper-card-background-color: var(--ha-card-background)
  ha-card-border-color: transparent
  ha-card-border-radius: 28px # Set to 0px if you prefer original button cards or 28px for rounded
  ha-card-border-width: 0
  stack-card-gap: "0px"
  horizontal-stack-card-gap: "10px"

  # Labels 
  label-badge-background-color: '#23232E'
  label-badge-text-color: '#F1F1F1'
  label-badge-red: rgba(255,159,9,0.7)

  # Layout / spacing
  page-gutter-desktop: 8vw
  page-gutter-tablet: 4vw
  page-gutter-mobile: 11px

  header-top-desktop: clamp(300px, 26vh, 340px)
  header-top-tablet:  clamp(180px, 22vh, 280px)
  header-top-mobile:  clamp(40px, 18vh, 84px)

  # Dialog 
  ha-dialog-surface-backdrop-filter: blur(10px) # this currently disables desktop dropdown
  ha-dialog-surface-background: var(--ha-card-background)
  ha-dialog-border-radius: 28px

  # Media animation
  media-orbit: 55s
  media-breathe: 36s

  # MDC / inputs / sliders
  mdc-theme-on-surface: var(--primary-text-color)
  mdc-theme-surface: var(--secondary-background-color)
  mdc-theme-text-primary-on-background: var(--primary-text-color)
  mdc-theme-text-secondary-on-background: var(--secondary-text-color)
  mdc-theme-text-icon-on-background: var(--secondary-text-color)
  mdc-theme-text-disabled-on-background: var(--disabled-text-color)

  mdc-dialog-heading-ink-color: var(--primary-text-color)
  mdc-dialog-content-ink-color: var(--secondary-text-color)

  mdc-text-field-ink-color: var(--primary-text-color)
  mdc-text-field-fill-color: transparent
  mdc-menu-surface-backdrop-filter: none
  mdc-select-ink-color: var(--primary-text-color)
  mdc-select-label-ink-color: var(--primary-text-color)
  mdc-select-idle-line-color: var(--secondary-text-color)
  mdc-select-dropdown-icon-color: var(--primary-text-color)
  mdc-select-hover-line-color: var(--secondary-text-color)
  mdc-select-fill-color: var(--card-background-color)
  mdc-checkbox-unchecked-color: '#FFF'
  mdc-radio-unchecked-color: '#FFF'

  input-label-ink-color: var(--secondary-text-color)
  input-disabled-ink-color: var(--secondary-text-color)
  input-fill-color: transparent
  input-disabled-fill-color: transparent
  input-dropdown-icon-color: var(--primary-text-color)
  input-idle-line-color: rgba(255,255,255,.2)
  input-hover-line-color: var(--secondary-text-color)

  paper-slider-knob-color: '#FFFFFF'
  paper-slider-knob-start-color: var(--paper-slider-knob-color)
  paper-slider-pin-color: var(--paper-slider-knob-color)
  paper-slider-active-color: "#0984ff"
  paper-slider-secondary-color: var(--paper-slider-knob-color)
  paper-slider-container-color: rgba(255,255,255,0.5)
  paper-slider-font-color: '#000'
  ha-slider-background: none

  # Code Editor
  code-editor-background-color: '#161616'

  # Layout Tweaks
  masonry-view-card-margin: "0px"

  # Browser Mod Extras
  clear-background-color: var(--ha-card-background)
  
  # Card Mod
  card-mod-theme: "Hemma"

  card-mod-root-yaml: |
    .: |
        html,
        body {
          overflow-x: hidden !important;
          max-width: 100vw !important;
        }

        #view,
        hui-view {
          overflow-x: hidden !important;
          max-width: 100vw !important;
        }

        :root {
          --page-gutter: var(--page-gutter-desktop);
          --hemma-rail-left: var(--page-gutter-desktop);
          --content-rail: calc(var(--hemma-rail-left) + var(--hemma-entity-padding-desktop, 40px));
        }

        @media (min-width: 769px) and (max-width: 1249px) {
          :root {
            --page-gutter: var(--page-gutter-tablet);
            --hemma-rail-left: var(--page-gutter-tablet);
            --content-rail: calc(var(--hemma-rail-left) + var(--hemma-entity-padding-desktop, 40px));
          }
        }

        @media (max-width: 768px), (max-height: 500px) {
          :root {
            --page-gutter: var(--page-gutter-mobile);
            --hemma-rail-left: var(--page-gutter-mobile);
            --content-rail: calc(var(--hemma-rail-left) + var(--hemma-entity-padding-mobile, 20px));
          }
        }

        @media (prefers-reduced-motion: reduce) {
          .m__run,
          .eq .b {
            animation: none !important;
          }
        }

        .hemma-entities,
        .hemma-entities > div {
          scrollbar-width: none;
          -ms-overflow-style: none;
        }

        .hemma-entities::-webkit-scrollbar,
        .hemma-entities > div::-webkit-scrollbar {
          width: 0 !important;
          height: 0 !important;
          background: transparent !important;
        }

        app-header,
        app-toolbar {
          background: transparent;
          backdrop-filter: blur(10px);
          -webkit-backdrop-filter: blur(10px);
        }

        ha-card {
          transition: filter .2s ease, opacity .2s ease;
        }

  card-mod-view-yaml: |
    .: |
        hui-view,
        hui-view > #columns {
          min-height: 100% !important;
          max-width: 100vw !important;
          overflow-x: hidden !important;
        }

        :host {
          overflow-x: hidden !important;
          overflow-y: auto !important;
        }

        app-header,
        app-toolbar {
          background: transparent;
          backdrop-filter: blur(10px);
          -webkit-backdrop-filter: blur(10px);
        }

        ha-card {
          transition: filter .2s ease, opacity .2s ease;
        }

        @media (max-width: 768px), (max-height: 500px) {
          :host::after{
            content:"";
            position: fixed;
            left: 0;
            right: 0;
            bottom: 0;
            height: 170px;
            pointer-events: none;
            z-index: 2;
            background: var(--hemma-nav-fade, linear-gradient(
              to top,
              rgba(0,0,0,0.82) 0%,
              rgba(0,0,0,0.0) 65%
            ));
          }
        }

  card-mod-card: |
    ha-card {
      transition: filter .22s ease, transform .12s ease !important;
      will-change: filter, transform;
    }

    @media (hover:hover) {
      :host(:not(.hemma-hero)) ha-card:hover,
      :host(:not(.hemma-hero)) ha-card:focus-within {
        filter: var(--hemma-hover-filter, brightness(1.10)) !important;
      }
    }

    @media (hover:none) {
      :host(:not(.hemma-hero)) ha-card:active {
        filter: var(--hemma-hover-filter, brightness(1.12)) !important;
      }
    }

    :host(.hemma-entity) {
      position: relative !important;
      z-index: 0 !important;
      display: block !important;
      border-radius: var(--ha-card-border-radius, 28px) !important;
      overflow: visible !important;
      contain: none !important;
      box-shadow: var(--button-card-box-shadow, var(--ha-card-box-shadow)) !important;
    }

    :host(.hemma-entity) ha-card {
      position: relative !important;
      z-index: 0 !important;
      border-radius: inherit !important;
      overflow: hidden !important;
      background-clip: padding-box;
      box-shadow: none !important;
    }

    :host(.hemma-entity) ha-card::before {
      content:"";
      position:absolute;
      inset:0;
      border-radius:inherit;
      pointer-events:none;
      z-index:1;

      --v-alpha:  var(--vignette-alpha, 0.78);
      --v-edge:   var(--vignette-edge, 0.68);
      --v-bottom: var(--vignette-bottom, 0.34);
      --v-on:     var(--dark-vignette, 0);

      --v-a-corner: calc(.30 * var(--v-alpha) * var(--v-on));
      --v-a-edge:   calc(.22 * var(--v-edge)  * var(--v-on));
      --v-a-bottom: calc(.24 * var(--v-bottom)* var(--v-on));

      background:
        radial-gradient(140% 140% at -10% -10%, rgba(0,0,0,var(--v-a-corner)) 0%, rgba(0,0,0,0) 60%),
        radial-gradient(140% 140% at 110% 110%, rgba(0,0,0,var(--v-a-corner)) 0%, rgba(0,0,0,0) 60%),
        radial-gradient(120% 120% at 50% 120%, rgba(0,0,0,var(--v-a-bottom)) 0%, rgba(0,0,0,0) 60%),
        linear-gradient(0deg, rgba(0,0,0,var(--v-a-edge)) 0%, rgba(0,0,0,0) 30%);

      mix-blend-mode: multiply;
    }

    :host(.hemma-entity) ha-card:active {
      transform: translateY(.5px);
      backface-visibility: hidden;
      will-change: transform;
    }
