# Shared Styles
hemma_shared:
  extra_styles: |
    :host::before{
      content: "";
      position: fixed;
      width: 0;
      height: 0;
      opacity: 0;
      pointer-events: none;
      background-image:
        url("/local/hemma/rooms/home.jpg"),
        url("/local/hemma/rooms/livingroom.jpg"),
        url("/local/hemma/rooms/kitchen.jpg"),
        url("/local/hemma/rooms/bedroom.jpg");
      background-repeat: no-repeat;
      background-size: cover;
    }

    :host{
      position: relative;
      z-index: 0;
      --hero-gutter: var(--content-rail,
                      var(--hemma-rail-left,
                      var(--page-gutter, 8vw)));
      --hero-top: var(--header-top-desktop, clamp(220px, 26vh, 340px));
      --hero-temp-font-size: var(--hero-temp-font-size-desktop, 18px);
      --hero-temp-font-weight: 600;
      --hero-temp-letter-spacing: 0.04em;
      --hero-temp-reserve: calc(var(--hero-temp-font-size) * 1.2);
      --hero-header-gap-current: var(--hero-header-gap-desktop, 6px);
      --hemma-hover-filter: none !important;
      -webkit-tap-highlight-color: transparent !important;
      --mdc-ripple-press-opacity: 0 !important;
    }

    :host ha-card{
      position: relative;
      pointer-events: none !important;
      cursor: default !important;
      filter: none !important;
      opacity: 1 !important;
      transform: none !important;
      box-shadow: none !important;
      transition: none !important;
      -webkit-tap-highlight-color: transparent !important;
      --mdc-ripple-press-opacity: 0 !important;
      background-repeat: no-repeat, no-repeat !important;
      background-position: center center, center center !important;
      background-size: cover, cover !important;
      background-attachment: local, local !important;
      isolation: isolate !important;
      overflow-x: hidden !important;
      overflow-y: hidden !important;
    }

    :host ha-card:hover,
    :host ha-card:focus-within,
    :host ha-card:active{
      filter:none !important;
      box-shadow:none !important;
      transform:none !important;
      cursor:default !important;
    }

    /* Background image */
    :host ha-card::after{
      content:"";
      position:absolute;
      inset:0;
      border-radius:inherit;
      pointer-events:none;
      z-index:-2;
      background-image: var(--hero-img);
      background-position: var(--hero-img-pos, center center);
      background-size: cover;
      background-repeat: no-repeat;
      opacity:1;
      filter: var(--hero-img-filter, saturate(1.02) brightness(.985));
      transition: opacity .35s ease, filter .35s ease;
      will-change: opacity, filter;
      animation: heroSwap .35s ease;
    }

    :host ha-card::before{
      content:"";
      position:absolute;
      inset:0;
      border-radius:inherit;
      pointer-events:none;
      z-index:-1;
      background: var(--hero-tint, rgba(56,56,56,0.50))
    }

    @keyframes heroSwap{
      from{ opacity:.0; filter:saturate(1.0) brightness(.97); }
      to{   opacity:1;  filter:saturate(1.02) brightness(.985); }
    }

    @media (prefers-reduced-motion: reduce){
      :host ha-card::after{
        transition:none;
        animation:none;
      }
    }

    .hero-temp-line{
      font-size: var(--hero-temp-font-size);
      font-weight: var(--hero-temp-font-weight, 600);
      letter-spacing: var(--hero-temp-letter-spacing, 0.04em);
      line-height: 1.2;
      text-transform: uppercase;
      white-space: nowrap;
    }

    /* Tablet */
    @media (min-width:768px) and (max-width:1249px){
      :host{
        --hero-top: var(--header-top-tablet, clamp(180px, 22vh, 280px));
        --hero-temp-font-size: var(--hero-temp-font-size-tablet, var(--hero-temp-font-size-desktop, 18px));
        --hero-header-gap-current: var(--hero-header-gap-tablet, var(--hero-header-gap-desktop, 6px));
      }
    }

    /* Mobile */
    @media (max-width: 767px), (max-height: 500px){
      :host{
        --hero-top: var(--header-top-mobile, clamp(80px, 12vh, 120px));
        --hero-temp-font-size: var(--hero-temp-font-size-mobile, 13px);
        --hero-header-gap-current: var(--hero-header-gap-mobile, 5px);
        --tiles-pad-bottom: calc(130px + env(safe-area-inset-bottom));
        --hero-gutter: var(--content-rail,
                      var(--hemma-rail-left,
                      var(--page-gutter-mobile, 10px)));
      }

      :host ha-card{
        position: fixed !important;
        inset: 0 !important;
        height: 100svh !important;
        min-height: 100svh !important;
        max-height: 100svh !important;
        overflow: hidden !important;
        -webkit-overflow-scrolling: auto !important;
        touch-action: none !important;
        padding: 0 !important;
      }

      :host .button-card-main{
        position: fixed !important;
        inset: 0 !important;
        width: 100% !important;
        box-sizing: border-box !important;
        overflow: hidden !important;
        margin: 0 !important;
        padding:
          var(--hero-top)
          var(--hero-gutter)
          var(--tiles-pad-bottom)
          var(--hero-gutter) !important;
      }

      :host .container{
        position: relative !important;
        inset: auto !important;
        width: 100% !important;
        box-sizing: border-box !important;
        margin: 0 !important;
        padding: 0 !important;
        overflow: visible !important;
        overflow-x: hidden !important;
      }

      :host .button-card-content,
      :host .grid{
        padding:0 !important;
        margin:0 !important;
        overflow:visible !important;
        display:grid !important;
      }
    }

    @media (max-height: 500px) and (orientation: landscape){
      :host{
        --hero-gutter: 18px;
        --hero-top: calc(env(safe-area-inset-top, 0px) + 96px + var(--hemma-hero-top-landscape-nudge, 0px));
        --tiles-pad-bottom: calc(16px + env(safe-area-inset-bottom, 0px));
      }

      :host .button-card-main{
        padding:
          var(--hero-top)
          calc(18px + env(safe-area-inset-right, 0px))
          calc(16px + env(safe-area-inset-bottom, 0px))
          calc(18px + env(safe-area-inset-left, 0px)) !important;
      }
    }
