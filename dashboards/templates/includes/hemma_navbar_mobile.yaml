# Mobile Navbar

type: vertical-stack
cards:

  # Phone Portrait
  - type: conditional
    conditions:
      - condition: state
        entity: input_boolean.hemma_mobile_navigation
        state: "off"
      - condition: screen
        media_query: "(orientation: portrait) and (max-width: 767px)"

    card:
      type: custom:navbar-card

      desktop:
        min_width: 99999
        hidden: true
        show_labels: false

      mobile:
        mode: docked
        show_labels: true
        hidden: >
          [[[
            const mm = (q) => (window.matchMedia ? window.matchMedia(q).matches : false);
            const isTouch = mm('(pointer: coarse)') || mm('(hover: none)');
            return !isTouch;
          ]]]

      layout:
        auto_padding:
          enabled: false
          desktop_px: 0
          mobile_px: 0

      card_mod:
        style: |
          :host{ z-index: 2147483647 !important; }
          ha-card{
            --mdc-ripple-press-opacity: 0 !important;
            background: transparent !important;
            box-shadow: none !important;
            overflow: visible !important;
            padding: 0 !important;
          }

      styles: |
        .navbar-card.desktop{ display:none !important; }

        .navbar-card.mobile,
        ha-card.navbar-card.mobile{
          position: fixed !important;
          left: 50% !important;
          transform: translateX(-50%) !important;
          bottom: 22px !important;
          top: auto !important;
          width: min(280px, calc(100vw - 38px)) !important;
          max-width: 350px !important;
          padding: 1px !important;
          border-radius: 9999px !important;
          background: var(--hemma-nav-bg, rgba(255,255,255,0.10)) !important;
          -webkit-backdrop-filter: blur(16px) saturate(180%) !important;
          backdrop-filter: var(--hemma-nav-blur, blur(16px) saturate(180%)) !important;
          border: 1px solid var(--hemma-nav-border, rgba(255,255,255,0.12)) !important;
          box-shadow: var(--hemma-nav-shadow, 0 22px 50px rgba(0,0,0,0.32)) !important;
          overflow: hidden !important;

          --navbar-primary-color: var(--hemma-nav-icon, rgba(255,255,255,.72)) !important;
          --navbar-active-color: var(--hemma-nav-icon-active, rgba(255,255,255,1)) !important;

          --navbar-route-background: transparent !important;
          --navbar-route-active-background: transparent !important;
          --navbar-active-background: transparent !important;
          --navbar-route-active-color: inherit !important;
        }

        .navbar.mobile{
          display: flex !important;
          align-items: center !important;
          justify-content: space-between !important;
          width: 100% !important;
          gap: 0 !important;
          padding: 0 !important;
          margin: 0 !important;
          --navbar-route-icon-size: 24px !important;
        }

        ha-ripple{ display:none !important; }
        .mdc-ripple-surface::before,
        .mdc-ripple-surface::after{
          content: none !important;
          display: none !important;
          opacity: 0 !important;
        }

        .route{
          flex: 1 1 0 !important;
          min-width: 0 !important;
          height: 54px !important;
          border-radius: 9999px !important;
          padding: 1px !important;
          box-sizing: border-box !important;
          background: transparent !important;
          box-shadow: none !important;
          border: 0 !important;
          outline: 0 !important;
          overflow: hidden !important;
          margin: 0 !important;
        }

        .route.active{
          background: var(--hemma-nav-active-fill, rgba(255,255,255,0.20)) !important;
          background-clip: content-box !important;
          box-shadow: none !important;
          border: 0 !important;
          outline: 0 !important;
        }

        .button{
          width: 100% !important;
          height: 100% !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          background: transparent !important;
          border: 0 !important;
          box-shadow: none !important;
          margin: 0 !important;
          padding: 0 !important;
        }

        .icon, .image{
          opacity: .6 !important;
          transition: opacity .18s ease !important;
          margin: 0 !important;
          background: transparent !important;
          box-shadow: none !important;
        }
        .route.active .icon, .route.active .image,
        .icon.active, .image.active{
          opacity: 1 !important;
        }

        .label, .name, .text, .route-name{ display:none !important; }

        .navbar-card, .navbar-card *{ box-sizing: border-box !important; }

      routes:
        - url: /dashboard-hemma/hemma
          label: Home
          image: /local/hemma/icons/home.svg
          image_selected: /local/hemma/icons/home.svg
        - url: /dashboard-hemma/living-room
          label: Living Room
          image: /local/hemma/icons/living-room.svg
          image_selected: /local/hemma/icons/living-room.svg
        - url: /dashboard-hemma/kitchen
          label: Kitchen
          image: /local/hemma/icons/kitchen.svg
          image_selected: /local/hemma/icons/kitchen.svg
        - url: /dashboard-hemma/bedroom
          label: Bedroom
          image: /local/hemma/icons/bedroom.svg
          image_selected: /local/hemma/icons/bedroom.svg

  # Tablet Portrait 
  - type: conditional
    conditions:
      - condition: state
        entity: input_boolean.hemma_mobile_navigation
        state: "off"
      - condition: screen
        media_query: "(orientation: portrait) and (min-width: 768px)"
    card:
      type: custom:navbar-card
      desktop:
        min_width: 99999
        hidden: true
        show_labels: false
      mobile:
        mode: docked
        show_labels: true
        hidden: >
          [[[
            const mm = (q) => (window.matchMedia ? window.matchMedia(q).matches : false);
            const isTouch = mm('(pointer: coarse)') || mm('(hover: none)');
            return !isTouch;
          ]]]
      layout:
        auto_padding:
          enabled: false
          desktop_px: 0
          mobile_px: 0
      card_mod:
        style: |
          :host{ z-index: 2147483647 !important; }
          ha-card{
            --mdc-ripple-press-opacity: 0 !important;
            background: transparent !important;
            box-shadow: none !important;
            overflow: visible !important;
            padding: 0 !important;
          }
      styles: |
        .navbar-card.desktop{ display:none !important; }

        ha-card.navbar-card.mobile{
          position: fixed !important;
          left: 50% !important;
          transform: translateX(-50%) !important;
          top: 26px !important;
          bottom: auto !important;
          width: fit-content !important;
          border-radius: 9999px !important;
          padding: 3px !important;
          background: var(--hemma-nav-bg, rgba(255,255,255,0.11)) !important;
          -webkit-backdrop-filter: blur(12px) !important;
          backdrop-filter: blur(12px) !important;
          border: 1px solid var(--hemma-nav-border, rgba(255,255,255,0.12)) !important;
          box-shadow: var(--hemma-nav-shadow, 0 18px 36px rgba(0,0,0,.04)) !important;
          overflow: hidden !important;

          --navbar-primary-color: var(--hemma-nav-icon, rgba(255,255,255,.78)) !important;
          --navbar-active-color: var(--hemma-nav-icon-active, rgba(255,255,255,1)) !important;

          --navbar-route-active-background: transparent !important;
          --navbar-route-active-color: inherit !important;
        }

        .navbar.mobile{
          --navbar-route-icon-size: 0px !important;
          display:flex !important;
          gap: 10px !important;
          padding: 0 !important;
          margin: 0 !important;
        }

        .icon, .image{ display:none !important; }

        .route{
          flex: 1 1 0 !important;
          display:flex !important;
          align-items:center !important;
          justify-content:center !important;
          min-height: 46px !important;
          padding: 0 10px !important;
          background: transparent !important;
          overflow: visible !important;
        }

        .button{
          width: 100% !important;
          height: 100% !important;
          display:flex !important;
          align-items:center !important;
          justify-content:center !important;
          background: transparent !important;
          border: none !important;
          box-shadow: none !important;
          overflow: visible !important;
        }

        .label{
          display:inline-flex !important;
          align-items:center !important;
          justify-content:center !important;
          padding: 12px 10px !important;
          border-radius: 9999px !important;
          line-height: 1 !important;
          white-space: nowrap !important;
          overflow: hidden !important;
          text-overflow: ellipsis !important;
          font-size: 18px !important;
          font-weight: 600 !important;
          color: var(--navbar-primary-color) !important;
          opacity: var(--hemma-nav-inactive-opacity, .82) !important;
          background: transparent !important;
        }

        .route.active .label,
        .label.active{
          background: var(--hemma-nav-active-fill, rgba(255,255,255,0.22)) !important;
          box-shadow: none !important;
          color: var(--navbar-active-color) !important;
          opacity: 1 !important;
        }

      routes:
        - url: /dashboard-hemma/hemma
          label: Home
          image: /local/hemma/icons/home.svg
          image_selected: /local/hemma/icons/home.svg
        - url: /dashboard-hemma/living-room
          label: Living Room
          image: /local/hemma/icons/living-room.svg
          image_selected: /local/hemma/icons/living-room.svg
        - url: /dashboard-hemma/kitchen
          label: Kitchen
          image: /local/hemma/icons/kitchen.svg
          image_selected: /local/hemma/icons/kitchen.svg
        - url: /dashboard-hemma/bedroom
          label: Bedroom
          image: /local/hemma/icons/bedroom.svg
          image_selected: /local/hemma/icons/bedroom.svg

  # Landscape
  - type: conditional
    conditions:
      - condition: state
        entity: input_boolean.hemma_mobile_navigation
        state: "off"
      - condition: screen
        media_query: "(orientation: landscape)"
    card:
      type: custom:navbar-card
      desktop:
        min_width: 99999
        hidden: true
        show_labels: false
      mobile:
        mode: docked
        show_labels: true
        hidden: >
          [[[
            const mm = (q) => (window.matchMedia ? window.matchMedia(q).matches : false);
            const isTouch = mm('(pointer: coarse)') || mm('(hover: none)');
            return !isTouch;
          ]]]
      layout:
        auto_padding:
          enabled: false
          desktop_px: 0
          mobile_px: 0
      card_mod:
        style: |
          :host{ z-index: 2147483647 !important; }
          ha-card{
            --mdc-ripple-press-opacity: 0 !important;
            background: transparent !important;
            box-shadow: none !important;
            overflow: visible !important;
            padding: 0 !important;
          }
      styles: |
        .navbar-card.desktop{ display:none !important; }

        ha-card.navbar-card.mobile{
          position: fixed !important;
          left: 50% !important;
          transform: translateX(-50%) !important;
          top: 40px !important;
          bottom: auto !important;
          width: fit-content !important;
          border-radius: 9999px !important;
          padding: 2px !important;
          background: var(--hemma-nav-bg, rgba(255,255,255,0.11)) !important;
          -webkit-backdrop-filter: blur(12px) !important;
          backdrop-filter: blur(12px) !important;
          border: 1px solid var(--hemma-nav-border, rgba(255,255,255,0.12)) !important;
          box-shadow: var(--hemma-nav-shadow, 0 18px 36px rgba(0,0,0,.04)) !important;
          overflow: hidden !important;

          --navbar-primary-color: var(--hemma-nav-icon, rgba(255,255,255,.78)) !important;
          --navbar-active-color: var(--hemma-nav-icon-active, rgba(255,255,255,1)) !important;

          --navbar-route-active-background: transparent !important;
          --navbar-route-active-color: inherit !important;
        }

        .navbar.mobile{
          --navbar-route-icon-size: 0px !important;
          display:flex !important;
          gap: 5px !important;
          padding: 0 !important;
          margin: 0 !important;
        }

        .icon, .image{ display:none !important; }

        .route{
          flex: 1 1 0 !important;
          display:flex !important;
          align-items:center !important;
          justify-content:center !important;
          min-height: 40px !important;
          padding: 0 8px !important;
          background: transparent !important;
          overflow: visible !important;
        }

        .button{
          width: 100% !important;
          height: 100% !important;
          display:flex !important;
          align-items:center !important;
          justify-content:center !important;
          background: transparent !important;
          border: none !important;
          box-shadow: none !important;
          overflow: visible !important;
        }

        .label{
          display:inline-flex !important;
          align-items:center !important;
          justify-content:center !important;
          padding: 8px !important;
          border-radius: 9999px !important;
          line-height: 1 !important;
          white-space: nowrap !important;
          overflow: hidden !important;
          text-overflow: ellipsis !important;
          font-size: 16px !important;
          font-weight: 600 !important;
          color: var(--navbar-primary-color) !important;
          opacity: var(--hemma-nav-inactive-opacity, .82) !important;
          background: transparent !important;
        }

        .route.active .label,
        .label.active{
          background: var(--hemma-nav-active-fill, rgba(255,255,255,0.22)) !important;
          box-shadow: none !important;
          color: var(--navbar-active-color) !important;
          opacity: 1 !important;
        }

      routes:
        - url: /dashboard-hemma/hemma
          label: Home
          image: /local/hemma/icons/home.svg
          image_selected: /local/hemma/icons/home.svg
        - url: /dashboard-hemma/living-room
          label: Living Room
          image: /local/hemma/icons/living-room.svg
          image_selected: /local/hemma/icons/living-room.svg
        - url: /dashboard-hemma/kitchen
          label: Kitchen
          image: /local/hemma/icons/kitchen.svg
          image_selected: /local/hemma/icons/kitchen.svg
        - url: /dashboard-hemma/bedroom
          label: Bedroom
          image: /local/hemma/icons/bedroom.svg
          image_selected: /local/hemma/icons/bedroom.svg
